## Rime é¼ é¡»ç®¡ï¼ˆSquirrelï¼‰æœ™æœˆæ‹¼éŸ³ã€å°é¹¤åŒæ‹¼ã€è‡ªç„¶ç åŒæ‹¼é…ç½®è¯¦è§£

![](https://i.imgur.com/nm2Wk1F.jpg)

### ä¸»è¦ç‰¹ç‚¹

* æœ™æœˆæ‹¼éŸ³ã€å°é¹¤åŒæ‹¼ã€è‡ªç„¶ç åŒæ‹¼ã€å¤§å†™æ•°å­—
* è¯åº“ä¸ä¸¢å¤±ï¼Œé…ç½®é‡ŒåŒ…å«çº¦ 170 ä¸‡æœç‹—è¯åº“
* Emoji ä¸ macOS åŒæ­¥
* åŠ¨æ€è¾“å…¥æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸ
* é€Ÿåº¦å¿«ã€å¼€æºã€ä¸è”ç½‘ã€DIY ç©ºé—´å¤§
* ç¼ºç‚¹ï¼šä¸Šæ‰‹éš¾åº¦å¤§ï¼Œå‰æœŸè‡ªé€ è¯å‡†ç¡®åº¦ä½

***
### å…ˆçœ‹

* ç›®å½•åŒ…å«å¤§éƒ¨åˆ†è¯¦è§£ï¼Œå»ºè®®å…ˆçœ‹å®Œï¼›æœªèƒ½è§£å†³å¯ä»¥ [Issues](https://github.com/qingmail/rime/issues)ï¼ˆ[å«å…³é—­ Issues](https://github.com/qingmail/rime/issues?q=is%3Aissue+is%3Aclosed)ï¼‰ï¼Œæˆ–åŠ å…¥ [![](https://img.shields.io/badge/Telegram-%E8%AE%A8%E8%AE%BA%E7%BE%A4-%2323A5E4)](https://t.me/V2EXPro)
* å®‰è£…é¼ é¡»ç®¡å»ºè®®æ‰“å¼€é€šçŸ¥ï¼Œéƒ¨ç½²é…ç½®æ–‡ä»¶ä¼šå®æ—¶æç¤ºæ˜¯å¦æˆåŠŸã€‚
* æ›´æ–°æ—¥å¿—ï¼š[ç‚¹å‡»è¿™é‡Œ](https://github.com/qingmail/rime/wiki#%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97)

***

### ç›®å½•

1. [å®‰è£…è¾“å…¥æ³•](#å®‰è£…è¾“å…¥æ³•)
2. [å¤‡ä»½å®‰è£…åŒ…](#å¤‡ä»½å®‰è£…åŒ…)
3. [å®šåˆ¶è¾“å…¥æ³•](#å®šåˆ¶è¾“å…¥æ³•)
4. [è¾“å…¥æ–¹æ¡ˆ](#è¾“å…¥æ–¹æ¡ˆ)
5. [å¤§å†™æ•°å­—](#å¤§å†™æ•°å­—)
6. [å€™é€‰è¯ä¸ªæ•°](#å€™é€‰è¯ä¸ªæ•°)
7. [ä¸­è‹±æ–‡åˆ‡æ¢é”®](#ä¸­è‹±æ–‡åˆ‡æ¢é”®)
8. [å¿«æ·é”®](#å¿«æ·é”®)
9. [å›è½¦æ¸…ç ](#å›è½¦æ¸…ç )
10. [è¯åº“æ–‡æ¡£æ ¼å¼](#è¯åº“æ–‡æ¡£æ ¼å¼)
11. [å¤–æŒ‚è¯åº“](#å¤–æŒ‚è¯åº“)
12. [æœç‹—è¯åº“è½¬æ¢æ–¹æ³•](https://github.com/qingmail/sogou-dict-transform)
13. [ä¿®æ”¹ Emoji](#ä¿®æ”¹-emoji)
14. [è½½å…¥å¤–æŒ‚è¯åº“å’Œ Emoji](#è½½å…¥å¤–æŒ‚è¯åº“å’Œ-Emoji)
15. [å…³é—­ Emoji](#å…³é—­-emoji)
16. [å¿«æ·ç¬¦å·](#å¿«æ·ç¬¦å·)
17. [æ¨¡ç³ŠéŸ³](#æ¨¡ç³ŠéŸ³)
18. [æ™ºèƒ½çº é”™](#æ™ºèƒ½çº é”™)
19. [åŠ¨æ€æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸ](#åŠ¨æ€æ—¶é—´æ—¥æœŸæ˜ŸæœŸ)
20. [è‡ªå®šä¹‰çŸ­è¯­](#è‡ªå®šä¹‰çŸ­è¯­)
21. [çš®è‚¤](#çš®è‚¤)
22. [ç‰¹å®šç¨‹åºé‡Œå…³é—­å¼€å¯ä¸­æ–‡è¾“å…¥](#ç‰¹å®šç¨‹åºé‡Œå…³é—­å¼€å¯ä¸­æ–‡è¾“å…¥)
23. [ç‰¹å®šç¨‹åºé‡Œä¸­æ–‡è¾“å…¥è‹±æ–‡æ ‡ç‚¹](#ç‰¹å®šç¨‹åºé‡Œä¸­æ–‡è¾“å…¥è‹±æ–‡æ ‡ç‚¹)
24. [åˆ é™¤é”™è¯](#åˆ é™¤é”™è¯)
25. [åˆ é™¤ç”Ÿåƒ»å­—](https://github.com/qingmail/rime-rare-word)
26. [åŒæ­¥](#åŒæ­¥)
27. [æŠ¥é”™æ—¥å¿—](#æŠ¥é”™æ—¥å¿—)
28. [å¸è½½](#å¸è½½é¼ é¡»ç®¡)
---
### å®‰è£…è¾“å…¥æ³•

1. ä¸‹è½½[é¼ é¡»ç®¡](https://rime.im/)å¹¶å®‰è£…ã€‚
2. èœå•æ ç‚¹é€‰ã€ã„“ã€‘å›¾æ ‡ï¼Œå¼€å§‹ä½¿ç”¨è¾“å…¥æ³•ã€‚
> æ³¨ï¼šé»˜è®¤ä¸ºç¹ä½“è¾“å…¥ï¼Œé€šè¿‡å¿«æ·é”® `Control+ï½€` å‘¼å‡ºæ–¹æ¡ˆï¼Œåˆ‡æ¢è¾“å…¥æ–¹å¼ï¼Œä¾‹å¦‚é€‰æ‹©ã€æœ™æœˆæ‹¼éŸ³Â·ç®€åŒ–å­—ã€‘ç®€ä½“è¾“å…¥ã€‚

é…ç½®æ–‡ä»¶è·¯å¾„ï¼š
* ç¨‹åºé…ç½®è·¯å¾„: `/Library/Input Methods/Squirrel.app/Contents/SharedSupport`
* ç”¨æˆ·é…ç½®è·¯å¾„: `~/Library/Rime`ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªç”¨åˆ°è¿™ä¸ªï¼‰

---

### å¤‡ä»½å®‰è£…åŒ…

é˜²æ­¢å®šåˆ¶è¾“å…¥æ³•æ“ä½œä¸å½“æ— æ³•æ¢å¤ï¼Œå»ºè®®å…ˆä¸ºåˆå§‹é…ç½®åšä¸ªå¤‡ä»½ã€‚åœ¨ã€ç»ˆç«¯ã€‘ä¸­è¾“å…¥æˆ–ç²˜è´´ä»¥ä¸‹å‘½ä»¤ï¼ŒæŒ‰å›è½¦é”®ã€‚

```
cp -r ~/Library/Rime ~/Library/Rime.bak
```

é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆ`~/Library/Rime`ï¼‰å¤šå‡ºã€Rime.bakã€‘å³å¤‡ä»½æ–‡ä»¶ã€‚

![](https://tvax2.sinaimg.cn/large/008jMPXrgy1gr7uvc1gflj31m40v00vw.jpg)

> è¿˜åŸæ–¹æ³•ï¼šã€Rimeã€‘æ–‡ä»¶å¤¹æ¸…ç©ºï¼Œå°†ã€Rime.bakã€‘å†…çš„æ–‡ä»¶ç²˜è´´è¿‡å»ï¼Œé‡æ–°éƒ¨ç½²ã€‚

---

### å®šåˆ¶è¾“å…¥æ³•

ä¸‹è½½[é…ç½®æ–‡ä»¶](https://github.com/qingmail/rime/archive/refs/heads/master.zip)è§£å‹å¾—åˆ°ã€é…ç½®æ–‡ä»¶ã€‘å’Œã€èŠ±å›­æ˜æœå­—ä½“ã€‘ï¼Œå› ä¸º macOS ä¸å«éƒ¨åˆ†ç”Ÿåƒ»å­—ï¼Œæ‰€ä»¥å°†èŠ±å›­æ˜æœå­—ä½“å®‰è£…åˆ°å­—ä½“å†Œã€‚

ç‚¹é€‰**ç”¨æˆ·è®¾å®š**ï¼ˆ`~/Library/Rime`ï¼‰æ‰“å¼€ç›®å½•æ–‡ä»¶å¤¹ï¼Œå°†ã€é…ç½®æ–‡ä»¶ã€‘ é‡Œæ‰€æœ‰æ–‡ä»¶å¤åˆ¶ç²˜è´´è¿›å»ï¼Œå¹¶é€‰æ‹©è¦†ç›–ã€‚

![](https://ww1.sinaimg.cn/large/008eZBHKgy1gn45cxyphgj31e20ca7e9.jpg)

```
# å®šåˆ¶é…ç½®æ–‡ä»¶è¯´æ˜
custom_phrase.txt                 # è‡ªå®šä¹‰çŸ­è¯­
default.custom.yaml               # å…¨å±€è®¾ç½®
double_pinyin_flypy.custom.yaml   # å°é¹¤åŒæ‹¼
double_pinyin_flypy.schema.yaml   # å°é¹¤åŒæ‹¼
double_pinyin.custom.yaml         # è‡ªç„¶ç åŒæ‹¼
double_pinyin.schema.yaml         # è‡ªç„¶ç åŒæ‹¼
easy_en.dict.yaml                 # è‹±æ–‡è¯å…¸
easy_en.schema.yaml               # è‹±æ–‡è¯å…¸
luna_pinyin_simp.custom.yaml      # æœ™æœˆæ‹¼éŸ³Â·ç®€åŒ–å­—
luna_pinyin_simp.schema.yaml      # æœ™æœˆæ‹¼éŸ³Â·ç®€åŒ–å­—
luna_pinyin.custom.yaml           # æœ™æœˆæ‹¼éŸ³
luna_pinyin.schema.yaml           # æœ™æœˆæ‹¼éŸ³
luna_pinyin.extended.dict.yaml    # æŒ‚è½½è¯åº“
luna_pinyin.dict.yaml             # è¯åº“ï¼ˆæ±‰å­—ï¼‰
luna_pinyin.sogou.dict.yaml       # è¯åº“ï¼ˆæœç‹—ï¼‰
luna_pinyin.zonghe.dict.yaml      # è¯åº“ï¼ˆç»¼åˆï¼‰
numbers.schema.yaml               # å¤§å†™æ•°å­—
opencc                            
  â”œâ”€â”€ emoji_word.txt              # Emoji
  â””â”€â”€ emoji.json           
rime.lua                          # åŠ¨æ€æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸ
squirrel.custom.yaml              # çš®è‚¤
```


ç‚¹å‡»**é‡æ–°éƒ¨ç½²**ï¼ˆå¿«æ·é”® `Control+Option+ï½€`ï¼‰ï¼Œåˆ°è¿™é‡Œå®Œæˆå®šåˆ¶ï¼Œå¦‚å¯¹åŠŸèƒ½è¿›è¡Œæ¢ç´¢æˆ–è°ƒæ•´ï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚

> ä¿®æ”¹ä»»ä½•é…ç½®æ–‡ä»¶éƒ½è¦**é‡æ–°éƒ¨ç½²**ç”Ÿæ•ˆï¼›
> æœ¬é…ç½®é‡Œæœç‹—è¯åº“è¾ƒå¤§ï¼Œç¬¬ä¸€æ¬¡éƒ¨ç½²æ—¶é—´ä¼šç¨é•¿ã€‚

![](https://ww1.sinaimg.cn/large/008eZBHKgy1gn45fjrwu3j31e00c87e7.jpg)


---
### è¾“å…¥æ–¹æ¡ˆ

å¦‚æœè¾“å…¥æ–¹æ¡ˆé…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ä¸‹é¢çš„å¤§å†™æ•°å­—ï¼‰å·²åŠ å…¥é…ç½®æ–‡ä»¶å†…ï¼Œéœ€è¦å°†è¾“å…¥æ–¹æ¡ˆåç§°æ·»åŠ è¿› `default.custom.yaml`ï¼ˆæŒ‰ `Control+ï½€` åˆ‡æ¢è¾“å…¥æ–¹æ¡ˆï¼‰ã€‚

```
patch:
  schema_list:
    - schema: luna_pinyin_simp      # æœ™æœˆæ‹¼éŸ³ç®€åŒ–å­—
    - schema: luna_pinyin           # æœ™æœˆæ‹¼éŸ³
    - schema: double_pinyin_flypy   # å°é¹¤åŒæ‹¼
    #- schema: double_pinyin         # è‡ªç„¶ç åŒæ‹¼
    - schema: numbers               # å¤§å†™æ•°å­—
```

> å…¶ä»–è¾“å…¥æ–¹æ¡ˆ[ç‚¹å‡»è¿™é‡Œ](https://github.com/rime/plum)ã€‚æ¨èä½¿ç”¨ [Visual Studio Code](https://code.visualstudio.com/) æ‰“å¼€ `.yaml` æ–‡ä»¶ï¼ˆ[Tab](https://twitter.com/qingmail/status/1357338760623529988) é”®å¯èƒ½éœ€è¦ä¿®æ”¹ï¼Œå› äººè€Œå¼‚ï¼‰ã€‚

---

### å¤§å†™æ•°å­—

å¤§å†™æ•°å­—è¾“å…¥æ–¹æ¡ˆé…ç½®æ–‡ä»¶ `numbers.schema.yaml`ã€‚å°†ä¸‹é¢ä»£ç æ·»åŠ åœ¨ `default.custom.yaml`ï¼ˆé»˜è®¤å·²æ·»åŠ ï¼‰ã€‚

```
- schema: numbers               # å¤§å†™æ•°å­—
```
ç”¨æ³•ï¼š
| æŒ‰é”®  |  è¾“å‡º |âœ‚ï¸|æŒ‰é”®ï¼ˆæŒ‰ä½Shiftï¼‰|è¾“å‡º |
|---|---|---|---|---|
| 1234567890  | å£¹è´°åè‚†ä¼é™†æŸ’æŒç–é›¶  |âœ‚ï¸| 1234567890  | ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹ã€‡  |
| wqbsjfd.  |  ä¸‡ä»Ÿä½°æ‹¾è§’åˆ†ç¬¬ç‚¹ |âœ‚ï¸|  wqbsjfd. |  ä¸‡åƒç™¾åè§’åˆ†ç¬¬ç‚¹ |
|  z | æ•´ä¹‹  |âœ‚ï¸| z  | æ•´ä¹‹  |
|  y | å…ƒæœˆäº¿  |âœ‚ï¸| y  | å…ƒæœˆäº¿  |


![](https://i.loli.net/2021/04/14/qYxrowydRaAUvzP.gif)

---

### å€™é€‰è¯ä¸ªæ•°

æ‰“å¼€ `default.custom.yaml` æ–‡ä»¶ï¼Œæ•°å­—å³å€™é€‰è¯ä¸ªæ•°ã€‚

```
  menu/page_size: 9   # å€™é€‰è¯ä¸ªæ•°
```

---

### ä¸­è‹±æ–‡åˆ‡æ¢é”®

æ‰“å¼€ `default.custom.yaml` æ–‡ä»¶ï¼Œè®¾ç½®åˆ‡æ¢ä¸­è‹±æ–‡ã€‚

```
  ascii_composer/good_old_caps_lock: true   # è‹¥ä¸ºtrueï¼Œcapsåªåˆ‡æ¢å¤§å°å†™
  ascii_composer/switch_key:
    Caps_Lock: commit_code                    
    Shift_L: commit_code   # å·¦Shiftï¼Œå…³é—­noop
    Shift_R: noop          # å³Shift
    Control_L: noop        # å·¦Control
    Control_R: noop        # å³Control
```

> æ³¨1ï¼šMac ä¸Šé¼ é¡»ç®¡ä¸èƒ½åŒºåˆ†å·¦å³ `Shift` ï¼Œå› æ­¤å·¦å³ `Shift` é”®ä½œç”¨ä¸€æ ·ã€‚
>
> æ³¨2ï¼šå¦‚æœ `caps` é”®ä¸èƒ½åˆ‡æ¢å¤§å°å†™ï¼Œæ‰“å¼€ Mac ç³»ç»Ÿåå¥½è®¾ç½® - é”®ç›˜ - è¾“å…¥æ³• - å–æ¶ˆå‹¾é€‰â€œä½¿ç”¨å¤§å†™é”å®šé”®åˆ‡æ¢â€œç¾å›½â€è¾“å…¥æ¨¡å¼â€ã€‚

---

### å¿«æ·é”®

æ‰“å¼€ `default.custom.yaml` æ–‡ä»¶ï¼Œè®¾ç½®ç¿»é¡µå’Œå…¶ä»–å¿«æ·é”®ï¼ˆå…³é—­æŸé¡¹åœ¨å‰é¢æ·»åŠ  `#`ï¼‰ã€‚

```
key_binder/bindings: # ç¿»é¡µ
  - { when: composing, accept: ISO_Left_Tab, send: Page_Up }  # "tab"ç¿»é¡µ
  - { when: composing, accept: Shift+Tab, send: Page_Up }
  - { when: composing, accept: Tab, send: Page_Down }     
  - { when: paging, accept: minus, send: Page_Up }            # "-"ä¸Šä¸€é¡µ
  - { when: has_menu, accept: equal, send: Page_Down }        # "="ä¸‹ä¸€é¡µ
  - { when: paging, accept: bracketleft, send: Page_Up }      # "["ä¸Šä¸€é¡µ
  - { when: has_menu, accept: bracketright, send: Page_Down } # "]"ä¸‹ä¸€é¡µ
  #- { when: paging, accept: comma, send: Page_Up }            # ","ä¸Šä¸€é¡µ
  #- { when: has_menu, accept: period, send: Page_Down }       # "."ä¸‹ä¸€é¡µ

  #- {accept: "Control+a", send: Home, when: composing}                   # å…‰æ ‡ç§»è‡³é¦–
  #- {accept: "Control+e", send: End, when: composing}                    # å…‰æ ‡ç§»è‡³å°¾
  #- {accept: "Control+Shift+1", select: .next, when: always}             # åˆ‡æ¢è¾“å…¥æ–¹æ¡ˆ
  #- {accept: "Control+Shift+2", toggle: ascii_mode, when: always}        # ä¸­è‹±æ–‡åˆ‡æ¢
  #- {accept: "Control+Shift+3", toggle: full_shape, when: always}        # å…¨è§’/åŠè§’åˆ‡æ¢
  - {accept: "Control+Shift+4", toggle: simplification, when: always}    # ç¹ç®€ä½“åˆ‡æ¢
  #- {accept: "Control+Shift+5", toggle: extended_charset, when: always}  # é€šç”¨/å¢å¹¿åˆ‡æ¢ï¼ˆæ˜¾ç¤ºç”Ÿåƒ»å­—ï¼‰
```

æ›´å¤šå¿«æ·é”®ï¼š[ç‚¹å‡»è¿™é‡Œ](https://github.com/rime/rime-prelude/blob/master/key_bindings.yaml)

---

### å›è½¦æ¸…ç 

æ‰“å¼€ `default.custom.yaml` æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä»£ç ï¼ˆé»˜è®¤å…³é—­ï¼Œè‹¥å¼€å¯å»æ‰ `#`ï¼‰ã€‚

```
  #- {accept: Return, send: Escape, when: composing} 
```

---

### è¯åº“æ–‡æ¡£æ ¼å¼

æ–‡ä»¶å‘½åä¸º <è¯åº“å>.dict.yamlã€‚ 

```
# ä»¥ --- ... åˆ†åˆ«æ ‡è®°å‡º YAML æ–‡æ¡£çš„èµ·å§‹ä¸ç»“æŸä½ç½®
# åœ¨ ... ä¸‹æ–¹ç©ºä¸€è¡Œ

---
name: luna_pinyin            # è¯åº“å
version: "0.9"               # ç‰ˆæœ¬
sort: by_weight              # by_weightï¼ˆè¯é¢‘é«˜ä½æ’åºï¼‰æˆ– originalï¼ˆä¿æŒåŸç è¡¨ä¸­çš„é¡ºåºï¼‰
use_preset_vocabulary: true  # true æˆ– falseï¼Œæ˜¯å¦å¯¼å…¥é¢„è®¾è¯æ±‡å…«è‚¡æ–‡
...

# æ ¼å¼æ¯è¡Œå®šä¹‰ä¸€æ¡ã€”æ–‡å­—ï¼ç¼–ç ã€•ï¼Œå­—ç¬¦ä¸ç è¡¨ä¹‹é—´ä½¿ç”¨ tab é”®ï¼Œç è¡¨ä¹‹é—´ä½¿ç”¨ç©ºæ ¼é”®ã€‚
æµ‹	ce
æµ‹è¯•	ce shi
ç›®çš„åœ°	mu di di
```

---

### å¤–æŒ‚è¯åº“

æ‰“å¼€ `luna_pinyin.extended.dict.yaml` æ–‡ä»¶ï¼Œæ‰¾åˆ° `import_tables`ï¼Œå°†è¯åº“åç§°æ·»åŠ åœ¨ä¸‹æ–¹ã€‚

```
import_tables:
  - luna_pinyin
  - luna_pinyin.sogou
  - luna_pinyin.zonghe
```

---

### ä¿®æ”¹ Emoji

æ‰“å¼€ opencc æ–‡ä»¶å¤¹å†… `emoji_word.txt` ä¿®æ”¹ Emojiã€‚

è§„åˆ™ï¼š`å­—ç¬¦` + `å­—ç¬¦` + `Emoji`ï¼›å­—ç¬¦ä¹‹é—´ç”¨ `tab` é”®åˆ†éš”ï¼Œå­—ç¬¦å’Œ Emoji ä¹‹é—´ç”¨ `ç©ºæ ¼` é”®åˆ†éš”ã€‚

![](https://tva2.sinaimg.cn/large/008eZBHKly1goxgt4aawqj31ao0geq4o.jpg)

---

### è½½å…¥å¤–æŒ‚è¯åº“å’Œ Emoji

æ‰“å¼€ `luna_pinyin_simp.custom.yaml` æ–‡ä»¶ï¼Œè½½å…¥ä¸­ / è‹±æ–‡è¯åº“å’Œ Emojiã€‚

```
  engine/filters:
      - simplifier
      - simplifier@emoji_conversion
      - uniquifier
      - charset_filter@gbk              # (â€»3) GBK è¿‡æ»¤
      - single_char_filter

  emoji_conversion:
    opencc_config: emoji.json
    option_name: show_emoji
    tags: abc
    # tips: all    # Emoji æ˜¾ç¤ºæ³¨é‡Šï¼ˆå»æ‰ # å¼€å¯ï¼‰

# æ”¹å†™æ‹¼å†™è¿ç®—ï¼Œå«è‹±æ–‡çš„è¯æ±‡ï¼ˆluna_pinyin.cn_en.dict.yamlï¼‰ä¸å½±å“ç®€æ‹¼
  "speller/algebra/@before 0": xform/^([b-df-hj-np-tv-z])$/$1_/

#  è½½å…¥æœ™æœˆæ‹¼éŸ³æ‰©å……è¯åº“
  "translator/dictionary": luna_pinyin.extended

# åŠ è½½easy_enä¾èµ–
  "schema/dependencies/@1": easy_en
# è½½å…¥ç¿»è¯‘è‹±æ–‡çš„ç è¡¨ç¿»è¯‘å™¨ï¼Œå–åä¸º english
  "engine/translators/@4": table_translator@english
# englishç¿»è¯‘å™¨çš„è®¾å®šé¡¹
  english:
    dictionary: easy_en
    spelling_hints: 9
    enable_completion: false      # æ˜¯å¦å¯ç”¨è‹±æ–‡è¾“å…¥è”æƒ³è¡¥å…¨
    enable_sentence: false
    initial_quality: 1            # è°ƒæ•´è‹±æ–‡å€™é€‰è¯çš„ä½ç½®
```
---

### å…³é—­ Emoji

æŒ‰ `Control + ï½€` ç»„åˆé”®ï¼Œé€‰æ‹©è¾“å…¥æ–¹æ¡ˆã€‚

* å…³é—­ Emoji é€‰æ‹© ğŸˆ¶ â†’ ğŸˆšï¸
* å¼€å¯ Emoji é€‰æ‹© ğŸˆšï¸ â†’ ğŸˆ¶

![](https://tvax4.sinaimg.cn/large/008eZBHKly1gp3nfu2fenj31ao04s3z0.jpg)

---

### å¿«æ·ç¬¦å·

æ‰“å¼€ `luna_pinyin_simp.custom.yaml` æ–‡ä»¶ï¼Œæ‰¾åˆ° `punctuator`ï¼Œä¿®æ”¹å¿«æ· Emoji å’Œç¬¦å·ã€‚

```
 # ç¬¦å·å¿«é€Ÿè¾“å…¥å’Œéƒ¨åˆ†ç¬¦å·çš„å¿«é€Ÿä¸Šå±
  punctuator:
    import_preset: symbols
    symbols:
      "/fs": [Â½, â€°, Â¼, â…“, â…”, Â¾, â…’ ]
      "/xh": [ ï¼Š, Ã—, âœ±, â˜…, â˜†, âœ©, âœ§, â‹, âŠ, â‰, âˆ, â…, âœ¿, âœ²]
      "/dq": [ğŸŒ,ğŸŒ,ğŸŒ,ğŸŒ,ğŸŒ‘,ğŸŒ’,ğŸŒ“,ğŸŒ”,ğŸŒ•,ğŸŒ–,ğŸŒ—,ğŸŒ˜]
      "/sg": [ğŸ‡,ğŸ‰,ğŸŒ,ğŸ,ğŸ,ğŸ,ğŸ‘,ğŸ’,ğŸ“,ğŸ—,ğŸ¦,ğŸ‚,ğŸº,ğŸ»]
      "/dw": [ğŸ™ˆ,ğŸµ,ğŸˆ,ğŸ·,ğŸ¨,ğŸ¼,ğŸ¾,ğŸ”,ğŸ¬,ğŸ ,ğŸ¦‹]
      "/bq": [ğŸ˜€,ğŸ˜,ğŸ˜‚,ğŸ˜ƒ,ğŸ˜„,ğŸ˜…,ğŸ˜†,ğŸ˜‰,ğŸ˜Š,ğŸ˜‹,ğŸ˜,ğŸ˜,ğŸ˜˜,ğŸ˜—]
      "/ss": [ğŸ’ª,ğŸ‘ˆ,ğŸ‘‰,ğŸ‘†,ğŸ‘‡,âœ‹,ğŸ‘Œ,ğŸ‘,ğŸ‘,âœŠ,ğŸ‘Š,ğŸ‘‹,ğŸ‘,ğŸ‘]
    half_shape:
      "#": "#"
      "*": "*"
      "`": "`"
      "~": "~"
      "@": "@"
      "=": "="
      '\': "ã€"
      "%": "%"
      "$": ["Â¥", "$", "â‚¬", "Â£", "Â¢", "Â¤"]
      "|": ["|", "ï½œ", "Â·", "ãƒ»", "Â§", "Â¦", "â€–", "ï¸´"]
      "/": ["/", "Ã·"]
      "'": { pair: ["ã€Œ", "ã€"] }
      "[": ["ã€", "ã€”", "ï¼»"]
      "]": ["ã€‘", "ã€•", "ï¼½"]
      "<": "ã€Š"
      ">": "ã€‹"

  recognizer/patterns/punct: "^/([a-z]+|[0-9]0?)$"
```



---

### æ¨¡ç³ŠéŸ³

ç¤ºä¾‹ï¼šæ‰“å¼€æœ™æœˆæ‹¼éŸ³ç®€åŒ–å­— `luna_pinyin_simp.custom.yaml ` æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä»£ç è¿›è¡Œè®¾ç½®ã€‚ 

```
# æ¨¡ç³Šæ‹¼éŸ³
  'speller/algebra':
    - erase/^xx$/                      # ç¬¬ä¸€è¡Œä¿ç•™

    # æ¨¡ç³ŠéŸ³å®šç¾©
    # éœ€è¦å“ªçµ„å°±åˆªå»è¡Œé¦–çš„ # è™Ÿï¼Œå–®é›™å‘ä»»é¸
    #- derive/^([zcs])h/$1/             # zh, ch, sh => z, c, s
    #- derive/^([zcs])([^h])/$1h$2/     # z, c, s => zh, ch, sh

    #- derive/^n/l/                     # n => l
    #- derive/^l/n/                     # l => n
```

---

### æ™ºèƒ½çº é”™

ç¤ºä¾‹ï¼šæ‰“å¼€æœ™æœˆæ‹¼éŸ³ç®€åŒ–å­— `luna_pinyin_simp.custom.yaml` æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä»£ç è¿›è¡Œè®¾ç½®ã€‚

```
    # è‡ªå‹•ç³¾æ­£ä¸€äº›å¸¸è¦‹çš„æŒ‰éµéŒ¯èª¤
    - derive/([aeiou])ng$/$1gn/        # dagn => dang 
    - derive/([dtngkhrzcs])o(u|ng)$/$1o/  # zho => zhong|zhou
    - derive/ong$/on/                  # zhonguo => zhong guo
    - derive/ao$/oa/                   # hoa => hao
    - derive/([iu])a(o|ng?)$/a$1$2/    # tain => tian
```

---

### åŠ¨æ€æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸ
æ‰“å¼€ `Rime.lua` æ–‡ä»¶ä¿®æ”¹ç¼–ç å’Œè¾“å‡ºæ ¼å¼ã€‚

* `time` = `æ—¶é—´`
* `date` = `æ—¥æœŸ`
* `week` = `æ˜ŸæœŸ`

> æ³¨ï¼šä¾‹å¦‚å°†æ—¶é—´è®¾ä¸º `sj`ï¼ŒåŒæ‹¼ç”¨æˆ·ä¸å»ºè®®æ”¹ä¸ºä¸¤ä½å­—æ¯ï¼Œä¼šå­˜åœ¨å†²çªã€‚

å†å°†ä¸‹é¢ä»£ç æ·»åŠ åœ¨å¯¹åº”çš„è¾“å…¥æ–¹æ¡ˆé‡Œï¼Œä¾‹å¦‚ï¼šæœ™æœˆæ‹¼éŸ³Â·ç®€åŒ–å­—æ–¹æ¡ˆå³æ·»åŠ åœ¨ `luna_pinyin_simp.custom.yaml`ã€‚

```
# librime-lua è¾“å…¥åŠ¨æ€æ—¶é—´å’Œæ—¥æœŸ
  "engine/translators/@6": lua_translator@date_translator
```

---

### è‡ªå®šä¹‰çŸ­è¯­

æ‰“å¼€ `custom_phrase.txt` æ–‡ä»¶ç¼–è¾‘çŸ­è¯­ã€‚è§„åˆ™ï¼š`æ–‡å­—+ç¼–ç +æƒé‡`ï¼Œä½¿ç”¨ `Tab` é”®åˆ†éš”ã€‚

ç¤ºä¾‹ï¼š

```
Rime	rime	4
é¼ é¡»ç®¡	rime	3
https://rime.im/	rime	2
Squirrel	rime	1
```


![](https://i.loli.net/2021/02/23/S3z1lxFm8Kws6nW.png)

> æ³¨ï¼šè‡ªå®šä¹‰çŸ­è¯­å§‹ç»ˆæ˜¾ç¤ºåœ¨ç¬¬ä¸€å€™é€‰é¡¹ï¼Œæ— æ³•å•ç‹¬è®¾ç½®ä¸ºç¬¬äºŒæˆ–ç¬¬ä¸‰å€™é€‰é¡¹ã€‚

---
### çš®è‚¤

æ‰“å¼€ `squirrel.custom.yaml` æ–‡ä»¶ï¼Œå°†çš®è‚¤ä»£ç æ·»åŠ è¿›å»ã€‚åœ¨ `style/color_scheme:` åé¢ä¿®æ”¹åç§°å³å¯æ›´æ¢çš®è‚¤ã€‚

```
  # æ›´æ¢çš®è‚¤
  style/color_scheme: macos_light

  # çš®è‚¤ä¸»é¢˜ 
  preset_color_schemes:
  
    macos_light:
      back_color: 0xFFFFFF                      # å€™é€‰æ¡èƒŒæ™¯è‰²ï¼Œ24ä½è‰²å€¼ï¼Œ16è¿›åˆ¶ï¼ŒBGRé¡ºåº
      border_color: 0xFFFFFF                    # è¾¹æ¡†è‰²
      text_color: 0x424242                      # æ‹¼éŸ³è¡Œæ–‡å­—é¢œè‰²
      hilited_back_color: 0xD75A00              # ç¬¬ä¸€å€™é€‰é¡¹èƒŒæ™¯èƒŒæ™¯è‰²
      hilited_candidate_text_color: 0xFFFFFF    # ç¬¬ä¸€å€™é€‰é¡¹æ–‡å­—é¢œè‰²
      hilited_candidate_label_color: 0xFFFFFF   # ç¬¬ä¸€å€™é€‰é¡¹ç¼–å·é¢œè‰²
      hilited_comment_text_color: 0x999999      # æ³¨è§£æ–‡å­—é«˜äº®
      hilited_text_color: 0x999999              # é«˜äº®æ‹¼éŸ³ (éœ€è¦å¼€å¯å†…åµŒç¼–ç )
      candidate_text_color: 0x3c3c3c            # é¢„é€‰é¡¹æ–‡å­—é¢œè‰²
      comment_text_color: 0x999999              # æ‹¼éŸ³ç­‰æç¤ºæ–‡å­—é¢œè‰²
      horizontal: true                          # æ°´å¹³æ’åˆ—
      inline_preedit: true                      # å•è¡Œæ˜¾ç¤ºï¼ŒfalseåŒè¡Œæ˜¾ç¤º
      label_color: 0x999999                     # é¢„é€‰æ ç¼–å·é¢œè‰²
      candidate_format: "%c\u2005%@"            # ç”¨ 1/6 em ç©ºæ ¼ U+2005 æ¥æ§åˆ¶ç¼–å· %c å’Œå€™é€‰è¯ %@ å‰åçš„ç©ºé—´
      font_face: "PingFangSC"                   # å€™é€‰è¯ç¼–å·å­—ä½“
      font_point: 16              # å€™é€‰æ–‡å­—å¤§å°
      label_font_point: 13        # å€™é€‰ç¼–å·å¤§å°
      corner_radius: 5            # å€™é€‰æ¡åœ†è§’
      hilited_corner_radius: 5    # é«˜äº®åœ†è§’
      border_height: 4            # çª—å£ä¸Šä¸‹é«˜åº¦
      border_width: 4             # çª—å£å·¦å³å®½åº¦
      border_color_width: 0       # è¾“å…¥æ¡è¾¹æ¡†å®½åº¦
```

æ›´å¤šçš®è‚¤æ•ˆæœï¼š[ç‚¹å‡»è¿™é‡Œ](https://github.com/qingmail/rime-pifu)ã€‚

* æ¯ 8bit ä¸€ç»„ï¼Œä»ä½ä½åˆ°é«˜ä½åˆ†åˆ«ä»£è¡¨ Redã€Greenã€Blueã€Alphaï¼Œå…± 32bitã€‚
* Alpha å€¼ï¼ˆå¦‚æœç•Œé¢æ”¯æŒï¼‰æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º `0xF` F å³ä¸é€æ˜ã€‚
* æŠŠé¢œè‰²å€¼å†™ä¸ºåå…­è¿›åˆ¶æ•°ï¼Œå³ `0xAABBGGRR` æˆ– `0xBBGGRR`ã€‚

![](https://ww1.sinaimg.cn/large/008eZBHKgy1gn45ifbfhnj311r0kw769.jpg)

---

### ç‰¹å®šç¨‹åºé‡Œå…³é—­å¼€å¯ä¸­æ–‡è¾“å…¥

æ‰“å¼€ `squirrel.custom.yaml` æ–‡ä»¶ï¼Œæ‰¾åˆ° `app_options:`ï¼Œåœ¨ä¸‹æ–¹è¾“å…¥ç¨‹åºç›®å½•åç§°ã€‚
* `ture` ä¸ºå…³é—­ä¸­æ–‡è¾“å…¥
* `false` ä¸ºå¼€å¯ä¸­æ–‡è¾“å…¥

ç¤ºä¾‹ï¼š
```
  app_options:    # Appå…³é—­ä¸­æ–‡è¾“å…¥
    #com.apple.Spotlight:            # èšç„¦æœç´¢
        #ascii_mode: true
    #com.runningwithcrayons.Alfred:  # afred
        #ascii_mode: true
    com.apple.Terminal:             # ç»ˆç«¯
        ascii_mode: true
    com.microsoft.VSCode:           # Visual Studio Code
        ascii_mode: false           # å¼€å¯ä¸­æ–‡è¾“å…¥
```

> å»¶ä¼¸ï¼šå¦‚ä½•è·å–ç¨‹åºå®‰è£…ç›®å½•ä¸‹çš„åç§°ï¼Ÿ
> 1. æ‰“å¼€**æ´»åŠ¨ç›‘è§†å™¨**ï¼Œé€‰ä¸­å¯¹åº”ç¨‹åºï¼Œç‚¹å‡»ä¸Šæ–¹ `Â·Â·Â·` å†ç‚¹é€‰**å–æ ·è¿›ç¨‹**ã€‚
> 2. æ‰¾åˆ° `Identifier`ï¼Œåé¢çš„ç¼–ç å³ä¸ºè¯¥ç¨‹åºåç§°ã€‚

---

### ç‰¹å®šç¨‹åºé‡Œä¸­æ–‡è¾“å…¥è‹±æ–‡æ ‡ç‚¹

æ‰“å¼€ `squirrel.custom.yaml` æ–‡ä»¶ï¼Œæ‰¾åˆ° `app_options:`ï¼Œåœ¨æŒ‡å®šç¨‹åºé‡ŒåŠ å…¥ `ascii_punct: true`ã€‚

ç¤ºä¾‹ï¼šåœ¨ Visual Studio Code ç¨‹åºé‡Œä¸­æ–‡çŠ¶æ€è¾“å…¥è‹±æ–‡æ ‡ç‚¹ã€‚

```
  app_options:    # Appå…³é—­ä¸­æ–‡è¾“å…¥
    com.microsoft.VSCode:           # Visual Studio Code
        ascii_mode: false           # å¼€å¯ä¸­æ–‡è¾“å…¥
        ascii_punct: true           # åŠè§’ç¬¦å·å³ä¸­æ–‡çŠ¶æ€è¾“å…¥è‹±æ–‡æ ‡ç‚¹
```

---

### åˆ é™¤é”™è¯

å°†å…‰æ ‡ï¼ˆ`â†‘` `â†“`æˆ–`â†` `â†’`ï¼‰ç§»åˆ°è¦åˆ é™¤çš„è¯ç»„ä¸Šï¼ŒæŒ‰ `Shift + Fn + Delete` é”®ï¼ˆç¬¬ä¸‰æ–¹é”®ç›˜æŒ‰   `Control + Delete`ï¼‰ã€‚

> æ³¨ï¼šåªèƒ½ä»ç”¨æˆ·è¯å…¸ä¸­åˆ é™¤è¯ç»„ï¼›è¯åº“é‡Œè¯ç»„åªä¼šå–æ¶ˆå…¶è°ƒé¢‘é¡ºåºã€‚

---

### åŒæ­¥

åŒæ­¥åˆ° iCloud äº‘ç›˜ï¼Œåœ¨ iCloud äº‘ç›˜å†…æ–°å»ºä¸ªæ–‡ä»¶å¤¹ã€‚

1. æ‰“å¼€ ` installation.yaml` æ–‡ä»¶ï¼Œä¿®æ”¹ `installation_id` åé¢çš„ UUIDã€‚

2. å†è¾“å…¥ä»¥ä¸‹ä»£ç ï¼ˆadmin ä¿®æ”¹ä¸ºæ‚¨çš„ Mac ç”¨æˆ·åï¼‰ã€‚

```
 sync_dir: "/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Rime"
```
ç¤ºä¾‹ï¼š

```
distribution_code_name: Squirrel
distribution_name: "é¼ é¬šç®¡"
distribution_version: 0.15.2
install_time: "Tue Feb 23 04:21:16 2021"
installation_id: "mac"	# ä¿®æ”¹id, åŒæ­¥æ—¶ä¼šåœ¨åŒæ­¥ç›®å½•ä¸‹ç”Ÿæˆæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åå¯¹åº”id
sync_dir: "/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Rime"  # åŒæ­¥å’Œå¤‡ä»½ç›®å½•è‡³iCloudäº‘ç›˜
rime_version: 1.7.3
update_time: "Thu Feb 25 16:18:53 2021"
```


1. ç‚¹é€‰èœå•æ ã€ã„“ã€‘->ã€åŒæ­¥ç”¨æˆ·æ•°æ®ã€‘ï¼Œæ‰“å¼€ iCloud äº‘ç›˜å¯æŸ¥çœ‹ã€‚

![](https://i.loli.net/2021/03/01/3WGFzIevCr69j8n.png)

**å»¶ä¼¸ï¼šè¯åº“åŒæ­¥è‡³æ–° Mac æ–¹æ³•ï¼š**

1. å…ˆå°†éœ€è¦åŒæ­¥çš„é…ç½®æ–‡ä»¶æ‹·è´è‡³æ–°ç”µè„‘ iCloud äº‘ç›˜ã€‚
2. å†é…ç½®å¥½é¼ é¡»ç®¡ï¼Œæ‰“å¼€ ` installation.yaml` æ–‡ä»¶ï¼Œå°† UUID å’Œè·¯å¾„ä¿®æ”¹ä¸ºåŒæ­¥æ–‡ä»¶ä¸€è‡³å¹¶é‡æ–°éƒ¨ç½²ï¼Œå®Œæˆè¯åº“åŒæ­¥ã€‚

æ›´å¤šåŒæ­¥æ–¹æ¡ˆï¼š[ç‚¹å‡»è¿™é‡Œ](https://github.com/rime/home/wiki/UserGuide#%E5%90%8C%E6%AD%A5%E7%94%A8%E6%88%B6%E8%B3%87%E6%96%99)

---

### æŠ¥é”™æ—¥å¿—

æ‰“å¼€**ç»ˆç«¯**è¾“å…¥ `$TMPDIR/rime.Squirrel.INFO` æŒ‰å›è½¦é”®ï¼Œå¤åˆ¶è·¯å¾„åœ°å€åœ¨è®¿è¾¾ä¸­æ‰“å¼€ã€‚

![](https://tva3.sinaimg.cn/large/008eZBHKgy1gq3krzyftbj311w09qgm4.jpg)

æ‰¾åˆ°ã€rime.squirrel.INFOã€‘æ–‡ä»¶ï¼Œå³å‡»ç‚¹é€‰**æ˜¾ç¤ºåŸèº«**å¾—åˆ°æ—¥å¿—æ–‡ä»¶ã€‚

![](https://tvax2.sinaimg.cn/large/008eZBHKgy1gq3kwsm5vvj31l00outbn.jpg)

---

### å¸è½½é¼ é¡»ç®¡

1. æ‰“å¼€ç³»ç»Ÿç›˜å¥½è®¾ç½® - é”®ç›˜ - è¾“å…¥æ³•ï¼Œç§»é™¤ã€é¼ é¡»ç®¡ã€‘ã€‚
2. æ‰“å¼€è®¿è¾¾å¹¶æŒ‰ä¸‹ `command + shift + G` å‰å¾€ `/Library/Input Methods` æ–‡ä»¶å¤¹ï¼Œåˆ é™¤ã€Squirrel.appã€‘ã€‚
3. å¦‚ä¸Šï¼Œå‰å¾€ `~/Library` å¹¶åˆ é™¤æ–‡ä»¶å¤¹ã€Rimeã€‘ã€‚
4. é‡æ–°ç™»å…¥ç³»ç»Ÿï¼Œç¡®ä¿æ¸…ç†å®Œæ¯•ã€‚

ğŸ”[è¿”å›ç›®å½•](#ç›®å½•)

